authors
	Kaj de Vos
	Andy Wang
status				developing
warnings
	Works, on Linux, without GLibC headers for cross-compiling kernel-space, but not yet for user-land.
	The Syllable source tree "system" directory needs to be in your working directory.
	/ainc needs to be linked to the Syllable system headers.
	The Syllable base distribution package needs to be in Builder/sources, so the "atheos" directory will be unpacked into your working directory.

inherits			gcc-3.3.4

headline			"Cross-compiler for Syllable"
packages
	gcc-3.3.4
;	gcc-core-3.3.4
;	gcc-g++-3.3.4
	base-syllable-0.5.5

configure-options
	--target=i586-pc-syllable
;	GLibC headers for Syllable:
	--with-headers=$PWD/../atheos/usr/glibc2/include
	--enable-languages=c,c++
	--with-arch=i586
	--enable-sjlj-exceptions
	--disable-shared
	--enable-threads
	--with-system-zlib
;	May be needed for porting a limited cross-compiler:
;	--without-headers
;	--disable-nls

; Requires super-user access:
;pre-make			ln -snf $PWD/../system/sys/include /ainc

make-env
	C_INCLUDE_PATH		$PWD/../atheos/usr/glibc2/include:/ainc
;	CPLUS_INCLUDE_PATH	$PWD/../atheos/usr/glibc2/include:/ainc
;	DLL_PATH		$PWD/../atheos/sys/libs
;	The cross-assembling toolchain:
;	GCC_EXEC_PREFIX		/usr/binutils/lib
;	LIBRARY_PATH		/usr/binutils/lib
;	LD_LIBRARY_PATH		/usr/binutils/lib
make-targets		all-gcc

install-targets		install-gcc
; The normal links are not relevant:
links
