Diffutils for Syllable/AtheOS
=============================

20 January 2003

1 Introduction
==============

This is a binary distribution of version 2.8.1 of the GNU Diffutils
file comparison tools for the Syllable operating system. This
distribution was built on Syllable 0.4.2a, and was optimized for a
Pentium CPU. It should also run on other versions of Syllable and on
the AtheOS operating system, but this has not been tested.

If you encounter problems or have any other interesting observations,
I would be interested to hear about them (see contact information).

See the file README for more information on Diffutils.

2 How to install Diffutils on Syllable
======================================

2.1 
----

You may have to become the root user to perform the following
operations:

    su

You should have unpacked this file with

    tar -xpz

or something equivalent. The 'p' option to tar is important: it
preserves permissions on the extracted files. Without the proper file
permissions, the installation will be broken.

Unpacking produces the directory diffutils. This should be installed
under /usr. If you unpacked it somewhere else, do:

    mv diffutils /usr

Note that Syllable versions 0.4.2a and earlier have Diffutils
installed in the base system in the directory /usr. This means that
its files are spread out over directories such as /usr/bin and
/usr/lib, and that your newly installed package in /usr/diffutils
won't run because the old version takes precedence. To remedy this,
you can delete the old version from Syllable's directories by running
the included script

    delete-old-diffutils.sh

Then run:

    pkgmanager -a /usr/diffutils

This creates links in Syllable to enable it to find Diffutils' files.
You should now be able to use the Diffutils.

2.2 Uninstalling & upgrading Diffutils
--------------------------------------

If you ever want to remove Diffutils, follow these steps. For
example, you should do this before you install a new version of
Diffutils. Again, you may have to become root first:

    su

Then you should remove the links to Diffutils from Syllable. You
should even do this when you want to upgrade Diffutils, because the
links will most likely have changed for the new version.

    pkgmanager -r /usr/diffutils

To delete the files belonging to Diffutils, run:

    rm -r /usr/diffutils

3 Building Diffutils on Syllable
================================

Normally you don't have to, but if you want to build Diffutils
yourself, you need to get the source distribution. You can get the
Diffutils distribution through its home page:

    http://www.gnu.org/software/diffutils/

See the file README for details.

Now you could use

    ./configure

but this will configure diffutils for installing Diffutils in
/usr/local. This is fine for local use, but to produce a
distribution, I prefer

    CFLAGS="-march=i586 -O2" \
        ./configure --prefix=/usr/diffutils

to target it for /usr/diffutils and optimize for a Pentium processor.

Now you can do

    make

and optionally

    make check

After becoming root,

    make install

will install Diffutils' files. If you configured to install in
/usr/diffutils, you will have to let Syllable know:

    pkgmanager -a /usr/diffutils

If you had a previous installation in /usr/diffutils, it would be
wise to uninstall it before running make install:

    pkgmanager -r /usr/diffutils
    rm -r /usr/diffutils

4 Contact information
=====================

This version of Diffutils was built and packed for Syllable/AtheOS by
Kaj de Vos. You can send me problem reports, fixes and the like at

    diffutils@syllable.info

This distribution can be found in the download section of the
Syllable web site:

    http://syllable.sourceforge.net

