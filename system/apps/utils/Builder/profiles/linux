; Syllable Linux core system

; Root tree structure to build the distribution in

tree
;	Virtual file system mount points

	dev
;	Nodes:
;	dev/console
;	dev/null

	proc
	sys

;	Boot directory structure

	boot
	boot/grub

;	Main directory structure

	etc
;	FHS:
;	etc/grub
	etc/s3conf

	users home.png

	system

	system/config
	system/config/drivers
	system/config/drivers/appserver
	system/config/drivers/appserver/video
	system/config/appearance
	system/config/appearance/colour-schemes

	system/development
	system/development/headers
	system/development/resources

	system/bin
	system/libraries

	system/fonts
	system/icons
	system/icons/filetypes
	system/keymaps
	system/sounds

	system/resources
	system/resources/catalogs
	system/resources/catalogs/bg
	system/resources/catalogs/da
	system/resources/catalogs/de
	system/resources/catalogs/el
	system/resources/catalogs/en-gb
	system/resources/catalogs/es
	system/resources/catalogs/fr
	system/resources/catalogs/fy
	system/resources/catalogs/hu
	system/resources/catalogs/nl
	system/resources/catalogs/pl
	system/resources/catalogs/pt-br
	system/resources/catalogs/ro
	system/resources/catalogs/ru
	system/resources/catalogs/sv
	system/resources/catalogs/zh-cn
	system/resources/wallpapers

	system/indexes
	system/indexes/bin
	system/indexes/etc
	system/indexes/include
	system/indexes/info
	system/indexes/lib
	system/indexes/libexec
	system/indexes/man
	system/indexes/sbin
	system/indexes/share
	system/indexes/early-init
	system/indexes/init

	system/drivers

	system/drivers/appserver
	system/drivers/appserver/decorators
	system/drivers/appserver/input
	system/drivers/appserver/video

	system/extensions
	system/extensions/dock
	system/extensions/translators
	system/extensions/media

	tmp

	var
	var/log

	usr

	usr/indexes
	usr/indexes/bin
	usr/indexes/etc
	usr/indexes/include
	usr/indexes/info
	usr/indexes/lib
	usr/indexes/libexec
	usr/indexes/man
	usr/indexes/sbin
	usr/indexes/share
	usr/indexes/early-init
	usr/indexes/init

;	For env:
	usr/bin
;	usr/etc
;	For NCurses:
	usr/include
;	For GhostScript:
	usr/include/sys
;	usr/info
	usr/lib
;	usr/man
	usr/sbin
;	(For terminfo:)
	usr/share
;	For manually compiled software:
	usr/local
;	For Perl:
	usr/local/bin
	usr/local/etc
	usr/local/include
	usr/local/info
	usr/local/lib
	usr/local/libexec
	usr/local/man
	usr/local/sbin
	usr/local/share

	Applications				applications.png
	Applications/Preferences	settings.png
	Applications/Xpdf
	documentation
;	documentation/images

;	LFS extras

;	For SysVInit and others:
	bin
	etc/default
	etc/udev
	etc/udev/rules.d
;	etc/opt
	etc/profile.d
	etc/sysconfig
	etc/sysconfig/network-devices
	etc/sysconfig/network-devices/ifconfig.eth0
;	mnt
;	opt
	media
	media/floppy
	media/cdrom1
	media/data
;	media/test
;	For SysVInit and others:
	sbin
;	srv
	var/lock
;	Server:
	var/state
	var/state/dhcp
	var/mail
	var/run
;	For DHCP:
;	var/db
	var/spool
;	var/opt
	var/cache
;	var/lib
;	var/lib/misc
;	var/lib/locate
;	var/local
	lib
	lib/firmware
	lib/udev
	lib/udev/devices
	lib/udev/devices/pts
	lib/udev/devices/shm
;	Node:
;	lib/udev/devices/null
;	For SysVInit:
	usr/share
	usr/share/man
	usr/share/man/man1
	usr/share/man/man5
	usr/share/man/man8

prepare
;	mkdir dev
	mknod -m 600 dev/console c 5 1
	mknod -m 666 dev/null c 1 3

;	mount --bind /dev dev

;	mount -t devpts	devpts	dev/pts
;	mount -t tmpfs	shm		dev/shm
;	mount -t proc	proc	proc
;	mount -t sysfs	sysfs	sys

;	install -d -m 0750 root
	install -d -m 1777 tmp var/tmp

	touch var/run/utmp		var/log/{btmp,lastlog,wtmp}
	chgrp utmp var/run/utmp	var/log/lastlog
	chmod 664 var/run/utmp	var/log/lastlog

	ln -s usr/ resources

;	For OpenSSL and others:
	ln -s /resources/indexes/bin/perl	usr/bin/perl
;	For OpenSSL?
;	ln -s /resources/indexes/bin/perl	usr/local/bin/perl
;	From BinUtils, for building OpenSSL:
	ln -s /resources/indexes/bin/ranlib	usr/bin/

;	touch etc/mtab

;	install -d				lib/{firmware,udev/devices/{pts,shm}}
	mknod -m0666			lib/udev/devices/null c 1 3
	ln -s /proc/self/fd		lib/udev/devices/fd
	ln -s /proc/self/fd/0	lib/udev/devices/stdin
	ln -s /proc/self/fd/1	lib/udev/devices/stdout
	ln -s /proc/self/fd/2	lib/udev/devices/stderr
	ln -s /proc/kcore		lib/udev/devices/core

;	For sshd:
	install -m700 -d	var/lib/sshd
	chown root:sys		var/lib/sshd

;	For LFS bootscripts:
	ln -s /system/resources/cups/1.3.4/sbin/cupsd	usr/sbin/
	ln -s /resources/bind/sbin/named				usr/sbin/
;	ln -s /resources/openssh/sbin/sshd				usr/sbin/
	ln -s /resources/apache/bin/apachectl			usr/sbin/
	ln -s /resources/apache/bin/httpd				usr/sbin/
	ln -s /resources/vsftpd/sbin/vsftpd				usr/sbin/
	ln -s /resources/rsync/bin/rsync				usr/bin/
	ln -s /resources/samba/sbin/nmbd				usr/sbin/
	ln -s /resources/samba/sbin/smbd				usr/sbin/
	ln -s /resources/samba/sbin/winbindd			usr/sbin/

resources
	boot/grub									menu.lst
	etc											linux/ld.so.conf
	etc											linux/inittab
	etc/sysconfig								linux/clock
	etc											linux/fstab
	etc											linux/syslog.conf
	etc/sysconfig								linux/console
	etc											linux/passwd
	etc											linux/group
	etc											linux/inputrc
	etc											linux/profile
	etc											linux/hosts
	etc											configuration/resolv.conf
	etc/sysconfig								linux/network
	etc/sysconfig/network-devices/ifconfig.eth0	linux/ipv4
	etc											linux/dhclient.conf
	etc/s3conf									configuration/s3config.yml
;	Server:
	etc											linux/dhcpd.conf
	var/state/dhcp								linux/dhcpd.leases
	etc											configuration/vsftpd.conf
	etc											configuration/rsyncd.conf
	system/config								net.cfg
	system/config								appserver
	etc											linux/asound.state
	etc/udev/rules.d							linux/40-alsa.rules
	users										binaries/home-directories

	system/fonts								fonts/URW/*.ttf
	system/fonts								fonts/URW/Mandriva/*.ttf
	system/icons/filetypes						icons/types/48x48/*.png
	system/resources/wallpapers					wallpapers/*.png
	system/resources/wallpapers					wallpapers/*.jpg
	system/resources/wallpapers					wallpapers/Adrian/*.png
	system/resources/wallpapers					wallpapers/Ruud/*.png
	system/resources/wallpapers					wallpapers/Ruud/*.jpg
	system/resources/wallpapers					wallpapers/YakkMeister/*.png
	system/resources/wallpapers					wallpapers/ZeroNet/*.jpg
	system/resources/wallpapers					wallpapers/LucasMurad/*.png
	system/resources/wallpapers					wallpapers/LucasMurad/*.jpg
	system/resources/wallpapers					wallpapers/LukasVeselovsky/*.png
	system/resources/wallpapers					wallpapers/KenSaunders/*.jpg
	system/resources/wallpapers					wallpapers/Dmitry/*.png

	etc/profile.d								linux/glib2-locale.sh

modules
;	Toolchain for bootstrapping

;	bootstrap apps/gnu/BinUtils-2.19.1
;	Uses headers and runtime linker from the host!
;	bootstrap apps/gnu/gcc-4.2.3-bootstrap


;	Syllable Linux core system

	documentation--current
	other/config/default
;	Overwrites profile:
	other/config/etc
	other/fonts/DejaVu-Fonts--current
	other/icons
	other/init
;	other/keymaps
;	sys/include

	system linux/linux-2.6.25-headers
;	For bootstrapping from a depmod with a different kernel modules location:
;	bootstrap linux/module-init-tools--bootstrap
	system linux/linux-2.6.25

;	Kernel modules

;	For DirectFB:
	system linux/linux-fusion-3.2.4
	system linux/kqemu-1.3.0pre11

	system libs/glibc-2.7-system
	system libs/zlib-1.2.3

	linux/iptables-1.4.0
;	system linux/linux--cleanup

;	stage libraries/gettext-0.17
;	stage libraries/flex-2.5.33
;	stage libraries/bison-2.3
;	stage libraries/BinUtils-2.19.1

	libraries libraries/gcc-4.2.3-system
;	For bootstrapping:
;	system apps/gnu/gcc-4.2.3

	system libs/NCurses-5.7
	system libs/ReadLine-6.0

;	For rescopy:
	apps/gnu/BinUtils-2.19.1-objcopy


;	Extra requirements for bootstrapping

;	apps/gnu/BinUtils-2.19.1
;	apps/gnu/make-3.81
	apps/other/ruby-1.8.6
;	apps/gnu/nano--curses


;	GrUB can use Curses:
	sys/boot/grub-0.97

	system apps/gnu/coreutils-6.9
	system apps/gnu/BASh-4.0
;	For init scripts:
	system apps/gnu/GRep-2.5.4
	apps/gnu/SEd-4.2.1
	system apps/other/unzip-5.52

	apps/gnu/bzip2-1.0.5
	system apps/other/orca--current

	system linux/sysvinit-2.86
	system linux/lfs-bootscripts-6.3
	bootstrap linux/udev--bootstrap
	system linux/udev-113
;	Needs udevinfo:
	system linux/udev-config-6.3
	stage libs/zlib-1.2.3-static
	system linux/module-init-tools-3.2.2
;	Incompatible with host libdl from different GLibC!
	system linux/e2fsprogs-1.40.2
;	Uses headers from /usr/include/!
	system linux/util-linux-2.12r
	system linux/sysklogd-1.4.1
	system linux/shadow-4.0.18.1
	libraries libraries/db-4.6.21-libraries
	system linux/iproute2-2.6.25
	linux/kbd-1.12
	linux/reiserfsprogs-3.6.19

;	Used by boot scripts:
	apps/gnu/FindUtils-4.4.2

;	freetype-config needs to be in the path:
	bootstrap bootstrap/FreeType-2.3.9
;	For SDL-TTF:
	system libraries/FreeType-2.3.9

	system libraries/LibJPEG-7
	system libraries/LibPNG-1.2.37
	system libraries/libungif-4.1.4
	system libraries/libtiff-3.8.2
	system libraries/flac-1.2.1
	system libraries/libogg-1.1.3
	system libraries/libvorbis-1.2.0
	system libraries/libtheora-1.0beta3
	stage libraries/ffmpeg-0.5.0
	stage libraries/faad-2.6.1

	system apps/other/directfb-1.0.0

;	sys/appserver/libsyllable


;	Requirements for bootstrapping

;	Needs objcopy from BinUtils:
;	apps/utils/rescopy
;	For bootstrapping:
;	bootstrap apps/utils/rescopy


;	sys/appserver/appserver/server
;	sys/appserver/appserver/drivers/decorators/photon
;	sys/appserver/appserver/drivers/input/keyboard
;	sys/appserver/appserver/drivers/input/ps2mouse
;	sys/appserver/appserver/drivers/input/sermouse
;	sys/appserver/appserver/drivers/input/usbmouse
;	sys/appserver/appserver/drivers/input/usbkeyboard
;	sys/appserver/appserver/drivers/video/directfb
;	sys/appserver/registrar
;	sys/translators/bmp
;	sys/translators/gif
;	sys/translators/ico
;	sys/translators/jpeg
;	sys/translators/pcx
;	sys/translators/png
;	sys/translators/tga
;	sys/translators/tiff
;	sys/translators/xbm
;	sys/translators/xpm
;	sys/media/libmedia
;	sys/media/mediaserver
;	sys/media/drivers/aac
;	sys/media/drivers/ac97_audio
;	sys/media/drivers/cdda
;	sys/media/drivers/cdrom
;	sys/media/drivers/ffmpeg
;	sys/media/drivers/hd_audio
;	sys/media/drivers/oss
;	sys/media/drivers/raw
;	sys/media/drivers/screen
;	sys/media/drivers/serveraudio
;	sys/media/drivers/vorbis
;	apps/utils/dlogin
;	apps/desktop/desktop
;	apps/desktop/dock
;	apps/desktop/dock_plugins/mixer
;	apps/desktop/file_browser

	apps/utils/man2html
	system apps/utils/Packager
;	apps/utils/Preferences/Appearance
;	apps/utils/Preferences/DateTime
;	apps/utils/Preferences/Desktop
;	apps/utils/Preferences/Dock
;	apps/utils/Preferences/FileTypes
;	apps/utils/Preferences/Font
;	apps/utils/Preferences/Keyboard
;	apps/utils/Preferences/Locale
;	apps/utils/Preferences/Login
;	apps/utils/Preferences/Media
;	apps/utils/Preferences/NetworkNG
;	apps/utils/Preferences/Screen
;	apps/utils/Preferences/UsersAndGroups
;	apps/utils/aterm
;	apps/utils/debug
;	apps/utils/dhcpc
;	apps/utils/fsutils
;	apps/utils/nettools
;	apps/utils/systools


;	Syllable Linux base distribution, in addition to core system

	other/fonts/liberation-fonts--current
	other/fonts/luxi-fonts
;	For AClock:
;	The first one will produce two harmless unpacking errors:
	other/fonts/lcd-fonts-1.1
	other/fonts/lcd-fonts-1.1
	other/fonts/freefont-20060126

	other/data/mime-support--current

	linux/blfs-bootscripts-20070822
	linux/procps-3.2.7
	apps/other/sudo-1.6.9p9
	apps/other/mktemp-1.5

;	Needs ranlib symlink in /usr/bin/!
;	For cURL:
	stage libraries/openssl--stage
	other/data/ca-certificates--current

	system apps/other/libusb-0.1.12
	system linux/alsa-library-1.0.15
	linux/alsa-utils-1.0.15
	system apps/other/curl-7.18.2
	system apps/other/openssh-5.0p1
	apps/other/dhcp-3.0.5
	linux/wirelesstools-29
	apps/other/msntp-1.6

	system apps/other/cups-1.3.4
;	Fool subsequent packages into adding files to CUPS in the image area:
	bootstrap apps/other/cups--bootstrap
	apps/other/ghostscript--image
	system apps/other/cups-1.3.4-gutenprint
	stage libraries/jbigkit-1.6
	system apps/other/cups-1.3.4-splix
;	apps/utils/Preferences/Printers
;	apps/utils/PrintQueue

	system apps/other/sane-backends-1.0.18

	apps/gnu/gzip-1.3.12
	apps/gnu/INetUtils-1.6
	apps/gnu/Less-429
	apps/gnu/TAr-1.22
	apps/other/zip-2.32
	apps/other/p7zip-4.61
;	For grub-install:
	apps/gnu/diffutils-2.8.1
	apps/other/netcat-1.10
	apps/other/transmission-1.06
	apps/other/cdrtools-2.01

;	sys/appserver/appserver/drivers/decorators/amiga
;	sys/appserver/appserver/drivers/decorators/beish
;	sys/appserver/appserver/drivers/decorators/Blue
;	sys/appserver/appserver/drivers/decorators/drow
;	sys/appserver/appserver/drivers/decorators/mulvane
;	sys/appserver/appserver/drivers/decorators/next
;	sys/appserver/appserver/drivers/decorators/red
;	Locks up and makes the system inaccessible:
;	sys/appserver/appserver/drivers/decorators/warpspeed
;	sys/appserver/appserver/drivers/decorators/win98
;	sys/appserver/appserver/drivers/decorators/Winter
;	apps/desktop/dock_plugins/battery
;	apps/desktop/dock_plugins/clock
;	apps/desktop/dock_plugins/Address
;	apps/desktop/dock_plugins/Camera
;	apps/desktop/dock_plugins/ColdFishRemote
;	apps/desktop/dock_plugins/CpuSpeed
;	apps/desktop/dock_plugins/Meter
;	apps/desktop/dock_plugins/Switcher
;	apps/desktop/dock_plugins/WallpaperChanger
;	apps/desktop/dock_plugins/Eyes
;	apps/desktop/dock_plugins/Clipper
;	apps/desktop/dock_plugins/Printer
;	apps/media/coldfish
;	apps/media/coldfish_plugins/blursk
;	apps/media/coldfish_plugins/remote
;	apps/media/mediaconverter
;	apps/media/mediaplayer
;	apps/utils/mixer
;	apps/utils/Albert
;	apps/utils/aclock
;	apps/utils/aedit
;	Too broken to include:
;;	apps/utils/archiver
;	apps/utils/aview
;	apps/utils/Builder
;	apps/utils/bzoom
;	apps/utils/catalog
;	apps/utils/charmap
;	apps/utils/cpumon
;	apps/utils/crypt
;	apps/utils/DiskManager
;	apps/utils/keymapconv
;	apps/utils/Launch
	apps/utils/Man
;	apps/utils/memmon
;	apps/utils/nfs
;	apps/utils/shelltools
;	apps/utils/slbmgr
;	apps/develop/SettingsEditor
;	apps/collab/Contact

	system libs/sdl-1.2.13
;	sdl-config needs to be in the path:
	bootstrap libs/sdl-1.2.13

	system libs/sdl-mixer-1.2.6
	system libs/sdl-net-1.2.7
	system libs/sdl-image-1.2.7
	system libs/sdl-sound-1.0.3-image
	system libs/sdl-ttf-2.0.9


;	Still needs FreeType 2.1:
	bootstrap libraries/freetype-2.1.10

;	apps/other/xpdf--image-syllable
;	Needs GCC < 4:
;	apps/other/xpdf--image


;	Binaries

	apps/other/rebol-core--current


;	REBOL stacks
	apps/other/tiny--current
	apps/other/rebol-services--current
	apps/other/uniserve-0.9.33
	apps/other/cheyenne-0.9.19
	apps/other/cheyenne--quartermaster-current
	apps/other/captcha--current
	apps/other/rebol-mysql-1.2.0


;	Amazon tools
	apps/other/s3sync--current


;	Extra goodies

	apps/other/genode-9.02

	apps/other/s-lang-2.1.1
	apps/other/glib-2.14.4
	apps/gnu/mc-4.6.1

;	apps/other/rsync-2.6.9
	apps/other/links2-2.1pre36
	apps/other/pengupop-2.1.12

;	Needs GCC 3:
;	apps/other/qemu-0.9.1
