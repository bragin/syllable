; Syllable Linux core system

; Root tree structure to build the distribution in

tree
;	Virtual file system mount points

	dev
;	Nodes:
;	dev/console
;	dev/null

	proc
	sys

;	Boot directory structure

	boot
	boot/grub

;	Main directory structure

	etc
;	FHS:
;	etc/grub
	etc/s3conf

	users home.png

	system

	system/config

	system/development
	system/development/headers
	system/development/resources

	system/bin
	system/libraries

	system/resources
	system/resources/catalogs
	system/resources/catalogs/bg
	system/resources/catalogs/da
	system/resources/catalogs/de
	system/resources/catalogs/el
	system/resources/catalogs/en-gb
	system/resources/catalogs/es
	system/resources/catalogs/fr
	system/resources/catalogs/fy
	system/resources/catalogs/hu
	system/resources/catalogs/nl
	system/resources/catalogs/pl
	system/resources/catalogs/pt-br
	system/resources/catalogs/ro
	system/resources/catalogs/ru
	system/resources/catalogs/sv
	system/resources/catalogs/zh-cn

	system/indexes
	system/indexes/bin
	system/indexes/etc
	system/indexes/include
	system/indexes/info
	system/indexes/lib
	system/indexes/libexec
	system/indexes/man
	system/indexes/sbin
	system/indexes/share
	system/indexes/early-init
	system/indexes/init

	tmp

	var
	var/log

	usr

	usr/indexes
	usr/indexes/bin
	usr/indexes/etc
	usr/indexes/include
	usr/indexes/info
	usr/indexes/lib
	usr/indexes/libexec
	usr/indexes/man
	usr/indexes/sbin
	usr/indexes/share
	usr/indexes/early-init
	usr/indexes/init
	usr/indexes/applications

;	For env:
	usr/bin
;	usr/etc
;	For NCurses:
	usr/include
;	For GhostScript:
	usr/include/sys
;	usr/info
	usr/lib
;	usr/man
	usr/sbin
;	(For terminfo:)
	usr/share
;	For manually compiled software:
	usr/local
;	For Perl:
	usr/local/bin
	usr/local/etc
	usr/local/include
	usr/local/info
	usr/local/lib
	usr/local/libexec
	usr/local/man
	usr/local/sbin
	usr/local/share

	Applications				applications.png
	Applications/Preferences	settings.png
	documentation
;	documentation/images

;	LFS extras

;	For SysVInit and others:
	bin
	etc/default
	etc/udev
	etc/udev/rules.d
;	etc/opt
	etc/profile.d
	etc/sysconfig
	etc/sysconfig/network-devices
	etc/sysconfig/network-devices/ifconfig.eth0
;	mnt
;	opt
	media
	media/data
;	media/test
;	For SysVInit and others:
	sbin
;	srv
	var/lock
;	Server:
	var/state
	var/state/dhcp
	var/mail
	var/run
;	For DHCP:
;	var/db
	var/spool
;	var/opt
	var/cache
;	var/lib
;	var/lib/misc
;	var/lib/locate
;	var/local
	lib
	lib/firmware
	lib/udev
	lib/udev/devices
	lib/udev/devices/pts
	lib/udev/devices/shm
;	Node:
;	lib/udev/devices/null
;	For SysVInit:
	usr/share
	usr/share/man
	usr/share/man/man1
	usr/share/man/man5
	usr/share/man/man8

prepare
;	mkdir dev &&
	mknod -m 600 dev/console c 5 1 &&
	mknod -m 666 dev/null c 1 3 &&

;	mount --bind /dev dev &&

;	mount -t devpts	devpts	dev/pts &&
;	mount -t tmpfs	shm		dev/shm &&
;	mount -t proc	proc	proc &&
;	mount -t sysfs	sysfs	sys &&

;	install -d -m 0750 root &&
	install -d -m 1777 tmp var/tmp &&

	touch var/run/utmp		var/log/{btmp,lastlog,wtmp} &&
	chgrp utmp var/run/utmp	var/log/lastlog &&
	chmod 664 var/run/utmp	var/log/lastlog &&

	ln -s usr/ resources &&

;	For OpenSSL and others:
	ln -s /resources/indexes/bin/perl	usr/bin/perl &&
;	For OpenSSL?
;	ln -s /resources/indexes/bin/perl	usr/local/bin/perl &&
;	From BinUtils, for building OpenSSL:
	ln -s /resources/indexes/bin/ranlib	usr/bin/ &&

;	touch etc/mtab

;	install -d				lib/{firmware,udev/devices/{pts,shm}} &&
	mknod -m0666			lib/udev/devices/null c 1 3 &&
	ln -s /proc/self/fd		lib/udev/devices/fd &&
	ln -s /proc/self/fd/0	lib/udev/devices/stdin &&
	ln -s /proc/self/fd/1	lib/udev/devices/stdout &&
	ln -s /proc/self/fd/2	lib/udev/devices/stderr &&
	ln -s /proc/kcore		lib/udev/devices/core &&

;	For sshd:
	install -m700 -d	var/lib/sshd &&
	chown root:sys		var/lib/sshd &&

;	For LFS bootscripts:
	ln -s /system/resources/cups/1.3.4/sbin/cupsd	usr/sbin/ &&
	ln -s /resources/bind/sbin/named				usr/sbin/ &&
;	ln -s /resources/openssh/sbin/sshd				usr/sbin/ &&
	ln -s /resources/apache/bin/apachectl			usr/sbin/ &&
	ln -s /resources/apache/bin/httpd				usr/sbin/ &&
	ln -s /resources/vsftpd/sbin/vsftpd				usr/sbin/ &&
	ln -s /resources/rsync/bin/rsync				usr/bin/ &&
	ln -s /resources/samba/sbin/nmbd				usr/sbin/ &&
	ln -s /resources/samba/sbin/smbd				usr/sbin/ &&
	ln -s /resources/samba/sbin/winbindd			usr/sbin/ &&

;	For Python:
	ln -s /resources/indexes/bin/python usr/bin/python

resources
	boot/grub									menu.lst
	etc											linux/ld.so.conf
	etc											linux/inittab
	etc/sysconfig								linux/clock
	etc											linux/fstab
	etc											linux/syslog.conf
	etc/sysconfig								linux/console
	etc											linux/passwd
	etc											linux/group
	etc											linux/inputrc
	etc											linux/profile
	etc											linux/hosts
	etc											configuration/resolv.conf
	etc/sysconfig								linux/network
	etc/sysconfig/network-devices/ifconfig.eth0	linux/ipv4
	etc											linux/dhclient.conf
	etc/s3conf									configuration/s3config.yml
;	Server:
	etc											linux/dhcpd.conf
	var/state/dhcp								linux/dhcpd.leases
	etc											configuration/vsftpd.conf
	etc											configuration/rsyncd.conf
	system/config								net.cfg
	users										binaries/home-directories

	etc/profile.d								linux/glib2-locale.sh

modules
;	Syllable Linux core system

	documentation--current
	other/config/default
;	Overwrites profile:
	other/config/etc
	other/init
;	sys/include

	system linux/linux-2.6.25-headers
;	For bootstrapping from a depmod with a different kernel modules location:
;	bootstrap linux/module-init-tools--bootstrap
	system linux/linux-2.6.25

;	Kernel modules

	system linux/kqemu-1.3.0pre11

	system libs/glibc-2.7-system
	system libs/zlib-1.2.3

	linux/iptables-1.4.0

	libraries libraries/gcc-4.2.3-system
;	For bootstrapping:
;	system apps/gnu/gcc-4.2.3

	system libs/NCurses-5.7
	system libs/ReadLine-6.0

;	GrUB can use Curses:
	sys/boot/grub-0.97

	system apps/gnu/coreutils-6.9
	system apps/gnu/BASh-4.0
;	For init scripts:
	system apps/gnu/GRep-2.5.4
	apps/gnu/SEd-4.2.1
	system apps/other/UnZip-6.0

	apps/gnu/bzip2-1.0.5
	system apps/other/Boron-0.1.0
	system apps/other/ORCA--current

	system linux/sysvinit-2.86
	system linux/lfs-bootscripts-6.3
	bootstrap linux/udev--bootstrap
	system linux/udev-113
;	Needs udevinfo:
	system linux/udev-config-6.3
	stage libs/zlib-1.2.3-static
	system linux/module-init-tools-3.2.2
;	Uses headers from /usr/include/!
;	system linux/util-linux-2.12r
	system linux/UtilLinuxNG-2.16.2
	system linux/E2FSPrograms-1.41.9
	system linux/sysklogd-1.4.1
	system linux/shadow-4.0.18.1
	libraries libraries/db-4.6.21-libraries
	system linux/iproute2-2.6.25
;	linux/kbd-1.12
	linux/reiserfsprogs-3.6.19

;	Used by boot scripts:
	apps/gnu/FindUtils-4.4.2

	apps/utils/man2html
	system apps/utils/Packager


;	Syllable Linux base distribution, in addition to core system

	other/data/MIME-Support--current

	linux/blfs-bootscripts-20070822
	linux/procps-3.2.7
	apps/other/SUDo-1.7.2p2
	apps/other/MkTemp-1.6

;	Needs ranlib symlink in /usr/bin/!
	system libraries/OpenSSL-0.9.8k-system
	other/data/CA-Bundle--current

	system apps/other/cURL-7.19.6
	system apps/other/OpenSSH-5.2p1
	apps/other/dhcp-3.0.5
	apps/other/msntp-1.6

;	For rescopy:
;	apps/gnu/BinUtils-2.19.1-objcopy
	apps/gnu/gzip-1.3.12
	apps/gnu/INetUtils-1.6
	apps/gnu/Less-429
	apps/gnu/TAr-1.22
	apps/other/Zip-3.0
	apps/other/7-Zip-9.04
;	For grub-install:
	apps/gnu/diffutils-2.8.1
	apps/other/NetCat-1.10
	apps/other/Transmission-1.72
	apps/other/CDRTools-2.01.01a61

	apps/utils/Man

	system libs/sdl-1.2.13
;	sdl-config needs to be in the path:
	bootstrap libs/SDL--bootstrap

	system libs/sdl-net-1.2.7
;	system libs/SDL-Image-1.2.8


;	Binaries

	apps/other/rebol-core--current


;	REBOL stacks
	apps/other/tiny--current
	apps/other/rebol-services--current
	apps/other/uniserve-0.9.33
	apps/other/cheyenne-0.9.19
	apps/other/cheyenne--quartermaster-current
	apps/other/captcha--current
	apps/other/rebol-mysql-1.2.0


;	Amazon tools
	apps/other/ruby-1.8.6
	apps/other/s3sync--current


;	Extra goodies

	apps/other/genode-9.02

	apps/other/s-lang-2.1.1
	apps/other/glib-2.14.4
	apps/gnu/mc-4.6.1

;	apps/other/rsync-2.6.9
	apps/other/links2-2.1pre36

	apps/gnu/gawk-3.1.6
	apps/gnu/patch-2.5.4
;	apps/other/file-
	apps/gnu/gnupg-1.4.9
	apps/other/Python-2.6.4
	apps/other/PythonGObject-2.20.0
	apps/other/Gobo-Scripts-2.9.11

;	apps/other/LibFetch-2.26
;	apps/other/LibArchive-
;	apps/other/Pacman-3.3.3

;	Needs GCC 3:
;	apps/other/qemu-0.9.1
